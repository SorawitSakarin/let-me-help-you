const fs = require('fs');
const path = require('path');

const OUTPUT_DIR = path.join(__dirname, '../public/icons');

// Color Palette
const COLORS = {
  '.': 'none',        // Transparent
  '#': '#000000',     // Black
  'W': '#FFFFFF',     // White
  'R': '#E76E55',     // Red (nes-css primaryish)
  'G': '#92CC41',     // Green (nes-css success)
  'B': '#209CEE',     // Blue (nes-css primary)
  'Y': '#F7D51D',     // Yellow (nes-css warning)
  'O': '#FF9900',     // Orange
  'P': '#76428A',     // Purple
  'C': '#00FFFF',     // Cyan
  'D': '#212529',     // Dark Gray (nes-css dark)
  'L': '#D3D3D3',     // Light Gray
  'S': '#808080',     // Silver
  'T': '#008080',     // Teal
};

// Ensure output directory exists
if (!fs.existsSync(OUTPUT_DIR)) {
  fs.mkdirSync(OUTPUT_DIR, { recursive: true });
}

function generateSVG(name, pixels) {
  let rects = '';
  for (let row = 0; row < 32; row++) {
    const line = pixels[row] || '';
    for (let col = 0; col < 32; col++) {
      const char = line[col] || '.';
      if (char !== '.') {
        const color = COLORS[char] || '#000000';
        rects += `<rect x="${col}" y="${row}" width="1" height="1" fill="${color}" />`;
      }
    }
  }

  const svgContent = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" shape-rendering="crispEdges">${rects}</svg>`;
  fs.writeFileSync(path.join(OUTPUT_DIR, `${name}.svg`), svgContent);
  console.log(`Generated ${name}.svg`);
}

// Icon Definitions (32x32)

const qrCode = [
  "WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW",
  "W##############################W",
  "W#WWWWWWWW#WW#W#W#WW#WWWWWWWW#W",
  "W#W######W#W#W#W#W##W#W######W#W",
  "W#W#WWWW#W#W#W#W#W##W#W#WWWW#W#W",
  "W#W#WWWW#W#W#W#W#W##W#W#WWWW#W#W",
  "W#W#WWWW#W#W#W#W#W##W#W#WWWW#W#W",
  "W#W######W#W#W#W#W##W#W######W#W",
  "W#WWWWWWWW#W#W#W#W##W#WWWWWWWW#W",
  "W##########W#W#W#W##W##########W",
  "WWWWWWWWW#WW#W#W#W##WW#WWWWWWWWW",
  "W#########W#W#W#W#W#W#W#########W",
  "W#WW#WW#WW#W#W#W#W#W#W#WW#WW#WW#W",
  "W#WW#WW#WW#W#W#W#W#W#W#WW#WW#WW#W",
  "W#WW#WW#WW#W#W#W#W#W#W#WW#WW#WW#W",
  "W##########W#W#W#W#W#W##########W",
  "W#WWWWWWWW#W#W#W#W#W#W#WWWWWWWW#W",
  "W#W######W#W#W#W#W#W#W#W######W#W",
  "W#W#WWWW#W#W#W#W#W#W#W#W#WWWW#W#W",
  "W#W#WWWW#W#W#W#W#W#W#W#W#WWWW#W#W",
  "W#W#WWWW#W#W#W#W#W#W#W#W#WWWW#W#W",
  "W#W######W#W#W#W#W#W#W#W######W#W",
  "W#WWWWWWWW#W#W#W#W#W#W#WWWWWWWW#W",
  "W##########W#W#W#W#W#W##########W",
  "W#WWWWWWWW#W#W#W#W#W#W#WWWWWWWW#W",
  "W#W######W#W#W#W#W#W#W#W######W#W",
  "W#W#WWWW#W#W#W#W#W#W#W#W#WWWW#W#W",
  "W#W#WWWW#W#W#W#W#W#W#W#W#WWWW#W#W",
  "W#W#WWWW#W#W#W#W#W#W#W#W#WWWW#W#W",
  "W#W######W#W#W#W#W#W#W#W######W#W",
  "W#WWWWWWWW#W#W#W#W#W#W#WWWWWWWW#W",
  "WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW"
];

const slotMachine = [
  "................................",
  ".....RRRRRRRRRRRRRRRRRRRRRR.....",
  "....R......................R....",
  "....R..YYYYYY..YYYYYY..YYYYYY..R....",
  "....R..Y#77#Y..Y#BAR#Y..Y#CC#Y..R....",
  "....R..Y#77#Y..Y#BAR#Y..Y#CC#Y..R....",
  "....R..YYYYYY..YYYYYY..YYYYYY..R....",
  "....R......................R....",
  "....RRRRRRRRRRRRRRRRRRRRRRRR....",
  "....R......................R....",
  "....R...BBBB....GGGG....RRR...R....",
  "....R...BBBB....GGGG....RRR...R....",
  "....R......................R....",
  "....RRRRRRRRRRRRRRRRRRRRRRRR....",
  ".......R................R.......",
  ".......R................R.......",
  ".......RRRRRRRRRRRRRRRRRR.......",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................"
];

const textToSpeech = [
  "................................",
  "........BBBBBB..................",
  "......BBBBBBBBBB................",
  ".....BBBBBBBBBBBB...............",
  "....BBBBBBBBBBBBBB..............",
  "...BBBBBBBBBBBBBBBB...W...W.....",
  "...BBBBBBBBBBBBBBBB..W.W.W.W....",
  "...BBBBBBBBBBBBBBBB...W...W.....",
  "...BBBBBBBBBBBBBBBB.............",
  "....BBBBBBBBBBBBBB..............",
  ".....BBBBBBBBBBBB...............",
  "......BBBBBBBBBB................",
  "........BBBBBB..................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................"
];

const passwordGenerator = [
  "................................",
  "..........YYYYYYYYYY............",
  "........YY..........YY..........",
  ".......YY............YY.........",
  ".......YY............YY.........",
  ".......YY............YY.........",
  ".......YY............YY.........",
  "........YY..........YY..........",
  "..........YYYYYYYYYY............",
  "..........YYYYYYYYYY............",
  ".........YYYYYYYYYYYY...........",
  ".........YYYYYYYYYYYY...........",
  ".........YYYYYYYYYYYY...........",
  ".........YYYYYYYYYYYY...........",
  ".........YYYYYYYYYYYY...........",
  "..........YYYYYYYYYY............",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................"
];

const unitConverter = [
  "................................",
  "....SSSSSSSSSSSSSSSSSSSSSSSS....",
  "....S......................S....",
  "....S..#...#...#...#...#...S....",
  "....S..#...#...#...#...#...S....",
  "....S..#...#...#...#...#...S....",
  "....S......................S....",
  "....SSSSSSSSSSSSSSSSSSSSSSSS....",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................"
];

const currencyConverter = [
  "................................",
  "...........YYYYYYYYYY...........",
  ".........YYYYYYYYYYYYYY.........",
  "........YYYYYYYYYYYYYYYY........",
  ".......YYYYYYYYYYYYYYYYYY.......",
  ".......YYYYYYYYYYYYYYYYYY.......",
  "......YYYYYYYYYYYYYYYYYYYY......",
  "......YYYYYYY##YYYYYYYYYYY......",
  "......YYYYYY####YYYYYYYYYY......",
  "......YYYYY##YY##YYYYYYYYY......",
  "......YYYYY##YY##YYYYYYYYY......",
  "......YYYYY######YYYYYYYYY......",
  "......YYYYY##YYYYYYYYYYYYY......",
  "......YYYYY##YYYYYYYYYYYYY......",
  "......YYYYY##YYYYYYYYYYYYY......",
  "......YYYYYYYYYYYYYYYYYYYY......",
  ".......YYYYYYYYYYYYYYYYYY.......",
  ".......YYYYYYYYYYYYYYYYYY.......",
  "........YYYYYYYYYYYYYYYY........",
  ".........YYYYYYYYYYYYYY.........",
  "...........YYYYYYYYYY...........",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................"
];

const focusTimer = [
  "................................",
  "...........RRRRRRRRR............",
  ".........RRRRRRRRRRRRR..........",
  ".......RRRRRRRRRRRRRRRRR........",
  "......RRRRRRRRRRRRRRRRRRR.......",
  ".....RRRRRRRRRRRRRRRRRRRRR......",
  ".....RRRRRRRRRRRRRRRRRRRRR......",
  "....RRRRRRRRRRRRRRRRRRRRRRR.....",
  "....RRRRRRRRRRRRRRRRRRRRRRR.....",
  "....RRRRRRRRRRRRRRRRRRRRRRR.....",
  "....RRRRRRRRRRRRRRRRRRRRRRR.....",
  "....RRRRRRRRRRRRRRRRRRRRRRR.....",
  ".....RRRRRRRRRRRRRRRRRRRRR......",
  ".....RRRRRRRRRRRRRRRRRRRRR......",
  "......RRRRRRRRRRRRRRRRRRR.......",
  ".......RRRRRRRRRRRRRRRRR........",
  ".........RRRRRRRRRRRRR..........",
  "...........RRRRRRRRR............",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................"
];

const wordCounter = [
  "................................",
  "....WWWWWWWWWWWWWWWWWWWWWWWW....",
  "....W......................W....",
  "....W..##################..W....",
  "....W......................W....",
  "....W..##################..W....",
  "....W......................W....",
  "....W..##################..W....",
  "....W......................W....",
  "....W..##################..W....",
  "....W......................W....",
  "....W..######..............W....",
  "....W......................W....",
  "....WWWWWWWWWWWWWWWWWWWWWWWW....",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................"
];

const binaryTranslator = [
  "................................",
  "...........BBBBBBBBBB...........",
  ".........BBBBBBBBBBBBBB.........",
  ".......BBBBBBBBBBBBBBBBBB.......",
  "......BBBBBBBBBBBBBBBBBBBB......",
  ".....BBBBBBBBBBBBBBBBBBBBBB.....",
  ".....BBBBBB...BBBB...BBBBBB.....",
  "....BBBBBBB...BBBB...BBBBBBB....",
  "....BBBBBBB...BBBB...BBBBBBB....",
  "....BBBBBBB...BBBB...BBBBBBB....",
  "....BBBBBBB...BBBB...BBBBBBB....",
  "....BBBBBBB...BBBB...BBBBBBB....",
  ".....BBBBBB...BBBB...BBBBBB.....",
  ".....BBBBBBBBBBBBBBBBBBBBBB.....",
  "......BBBBBBBBBBBBBBBBBBBB......",
  ".......BBBBBBBBBBBBBBBBBB.......",
  ".........BBBBBBBBBBBBBB.........",
  "...........BBBBBBBBBB...........",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................"
];

const loremIpsum = [
  "................................",
  ".......PPPPPPPPPPPPPPPPPP.......",
  "......P..................P......",
  "......P..L...............P......",
  "......P..o...............P......",
  "......P..r...............P......",
  "......P..e...............P......",
  "......P..m...............P......",
  "......P..................P......",
  "......P..I...............P......",
  "......P..p...............P......",
  "......P..s...............P......",
  "......P..u...............P......",
  "......P..m...............P......",
  "......P..................P......",
  ".......PPPPPPPPPPPPPPPPPP.......",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................"
];

const base64Encoder = [
  "................................",
  "..........CCCCCCCCCCCC..........",
  "........CC............CC........",
  ".......CC..............CC.......",
  "......CC................CC......",
  "......CC....BB...66.....CC......",
  "......CC....BB...66.....CC......",
  "......CC....BB...666....CC......",
  "......CC....BB...6..6...CC......",
  "......CC....BB...6..6...CC......",
  "......CC....BB...6..6...CC......",
  "......CC....BB...666....CC......",
  "......CC................CC......",
  ".......CC..............CC.......",
  "........CC............CC........",
  "..........CCCCCCCCCCCC..........",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................"
];

const unixTimestamp = [
  "................................",
  "...........SSSSSSSSSS...........",
  ".........SS..........SS.........",
  ".......SS..............SS.......",
  "......SS................SS......",
  ".....SS..................SS.....",
  ".....SS.........#........SS.....",
  "....SS..........#.........SS....",
  "....SS..........#.........SS....",
  "....SS..........#.........SS....",
  "....SS.......#######......SS....",
  "....SS..........#.........SS....",
  ".....SS.........#........SS.....",
  ".....SS..................SS.....",
  "......SS................SS......",
  ".......SS..............SS.......",
  ".........SS..........SS.........",
  "...........SSSSSSSSSS...........",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................",
  "................................"
];

const hackingScreen = [
  "################################",
  "#..............................#",
  "#..GGGGGGGGGGGGGGGGGGGGGGGGGG..#",
  "#..G........................G..#",
  "#..G..>_....................G..#",
  "#..G........................G..#",
  "#..G........................G..#",
  "#..G........................G..#",
  "#..G........................G..#",
  "#..G........................G..#",
  "#..G........................G..#",
  "#..G........................G..#",
  "#..G........................G..#",
  "#..G........................G..#",
  "#..G........................G..#",
  "#..GGGGGGGGGGGGGGGGGGGGGGGGGG..#",
  "#..............................#",
  "################################",
  "################################",
  "################################",
  "################################",
  "################################",
  "################################",
  "################################",
  "################################",
  "################################",
  "################################",
  "################################",
  "################################",
  "################################",
  "################################",
  "################################"
];

// Generate all icons
generateSVG('qr-code', qrCode);
generateSVG('slot-machine', slotMachine);
generateSVG('text-to-speech', textToSpeech);
generateSVG('password-generator', passwordGenerator);
generateSVG('unit-converter', unitConverter);
generateSVG('currency-converter', currencyConverter);
generateSVG('focus-timer', focusTimer);
generateSVG('word-counter', wordCounter);
generateSVG('binary-translator', binaryTranslator);
generateSVG('lorem-ipsum', loremIpsum);
generateSVG('base64-encoder', base64Encoder);
generateSVG('unix-timestamp', unixTimestamp);
generateSVG('hacking-screen', hackingScreen);
